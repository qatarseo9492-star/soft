########################################
# Runtime
########################################
APP_NAME=filespay-api
NODE_ENV=production
HOST=0.0.0.0
PORT=3011
LOG_LEVEL=log
TZ=Asia/Karachi
# If running behind Nginx/Cloudways, trust proxy to get real client IPs
TRUST_PROXY=1

########################################
# Public URLs (helps with redirects, CORS checks, emails, etc.)
########################################
# Where your API is publicly reachable (set to your domain in prod)
API_PUBLIC_URL=https://api.filespay.org
# Your frontend site URL (used in CORS and any cross-service callbacks)
WEB_PUBLIC_URL=https://filespay.org

########################################
# Database (Prisma) â€” MySQL
########################################
# Keep your current DSN if it's correct for this server
DATABASE_URL=mysql://kpvbrsfqas:ezMWSyBXV8@127.0.0.1:3306/kpvbrsfqas

########################################
# Auth (JWT)
########################################
# Generate fresh secrets on the server: `openssl rand -base64 48`
JWT_SECRET=__GENERATE_A_NEW_RANDOM_SECRET__
JWT_EXPIRES_IN=7d
# Optional admin key for simple admin endpoints (use in x-admin-key header)
ADMIN_API_KEY=__GENERATE_A_NEW_RANDOM_ADMIN_KEY__

########################################
# CORS
########################################
# Include production + localhost for dev tools / local web
CORS_ORIGIN=https://filespay.org,https://www.filespay.org,http://localhost:3000,http://127.0.0.1:3000
CORS_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,x-revalidate-token,x-admin-key

########################################
# Rate limiting (optional but recommended)
########################################
RATE_LIMIT_WINDOW_SEC=60
RATE_LIMIT_MAX=300

########################################
# Uploads
########################################
UPLOAD_PROVIDER=local
UPLOAD_DIR=/home/1510120.cloudwaysapps.com/kpvbrsfqas/public_html/uploads
MAX_IMAGE_MB=5
ALLOWED_IMAGE_MIME=image/jpeg,image/png,image/webp,image/gif
# Optional temp dir for processing (if you do image transforms)
UPLOAD_TMP_DIR=/tmp/filespay

# --- S3/R2 option (leave commented unless you switch providers) ---
# UPLOAD_PROVIDER=s3
# S3_ENDPOINT=https://<account>.r2.cloudflarestorage.com
# S3_BUCKET=filespay-uploads
# S3_REGION=auto
# S3_ACCESS_KEY_ID=__KEY__
# S3_SECRET_ACCESS_KEY=__SECRET__

########################################
# Search (optional, for later)
########################################
MEILI_HOST=
MEILI_KEY=

########################################
# Frontend cache revalidation
########################################
# Local dev revalidate target
WEB_REVALIDATE_URL=http://127.0.0.1:3000/api/revalidate
# Must match NEXT_PUBLIC/WEB token on the web app
WEB_REVALIDATE_TOKEN=__MATCH_WEB_TOKEN__

########################################
# Misc (optional)
########################################
# Default pagination for list endpoints
PAGINATION_DEFAULT_LIMIT=24
PAGINATION_MAX_LIMIT=60
